# university

Проект обучающей платформы с использованием фреймворка FastAPI.

Создан на основе https://github.com/luchanos/luchanos_oxford_university

Создание и выполнение миграций.
Первичный запуск.
```alembic init migrations```. Будет создана папка migrations и файл alembic.ini

В alembic.ini задаётся адрес базы данных, для которой будут применены файлы миграции.
! В адресе базы данных не использовать IP 0.0.0.0 иначе psycopg2 к ней не подключится. Предпочтительно 127.0.0.1.
В файле env.py внести изменения в следующем фрагменте:
```from myapp import mymodel```

Последующая работа с базой данных.
```alembic revision --autogenerate -m "comment"```
```alembic upgrade heads```

Миграции следует выполнять сначала для рабочей базы данных, затем для тестовой,
изменяя адрес базы в файле alembic.ini

При добавлении в непустую базу новых полей с запретом пустых значений (nullable=False)
в автоматически созданный файл миграции следует добавить значение столбца
по умолчанию server_default='default value'


Запуск сервера разработки:
uvicorn main:app --reload
